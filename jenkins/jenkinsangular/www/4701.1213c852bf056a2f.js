"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[4701],{8181:(M,g,t)=>{t.r(g),t.d(g,{RegistrarseModule:()=>b});var p=t(6814),d=t(707),h=t(8057),c=t(95),m=t(7853),s=t(3714),f=t(5628),l=t(5219),e=t(9467),C=t(3859),Z=t(7696),v=t(4104);let y=(()=>{class n{constructor(o,i,r,u){this.layoutService=o,this.router=i,this.usuarioService=r,this.service=u,this.nombre="",this.cedula="",this.direccion="",this.telefono="",this.email="",this.password="",this.mensaje="",this.id_Rol=1}mostrarError(o){this.service.add({key:"tst",severity:"error",summary:"Mensaje de error",detail:o})}registrarse(){this.nombre&&this.cedula&&this.direccion&&this.telefono&&this.email&&this.password?this.usuarioService.verificarDbCedula(this.cedula).subscribe(o=>{o?(this.mostrarError("Error en el registro. Usuario ya registrado."),console.log("Error en el registro: usuario ya registrado")):this.usuarioService.verificarDBCorreo(this.email).subscribe(i=>{i?(this.mostrarError("Error en el registro. Correo ya registrado."),console.log("Error en el registro: Correo ya registrado")):this.registrarNuevoUsuario()},i=>{this.mostrarError("Error en la verificaci\xf3n del correo electr\xf3nico. Por favor, int\xe9ntelo de nuevo m\xe1s tarde."),console.error("Error en la verificaci\xf3n del correo electr\xf3nico:",i)})},o=>{this.mostrarError("Error en la verificaci\xf3n del usuario. Por favor, int\xe9ntelo de nuevo m\xe1s tarde."),console.error("Error en la verificaci\xf3n del usuario:",o)}):this.mostrarError("Ingrese todos los datos")}registrarNuevoUsuario(){this.usuarioService.registerUsuario({nombre:this.nombre,cedula:this.cedula,direccion:this.direccion,telefono:this.telefono,correo:this.email,clave:this.password,rol:{idRol:this.id_Rol}}).subscribe(o=>{this.router.navigate(["/auth/login"])},o=>{this.mostrarError("Error en el registro. Por favor, int\xe9ntelo de nuevo m\xe1s tarde."),console.error("Error en el registro:",o)})}regresar(){this.router.navigate(["/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(C.P),e.Y36(f.F0),e.Y36(Z.i),e.Y36(l.ez))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-registrarse"]],features:[e._Bn([l.ez])],decls:42,vars:8,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],["alt","Sakai logo",1,"mb-5","w-6rem","flex-shrink-0",3,"src"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"w-full","surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"text-center","mb-5"],["src","assets/demo/images/login/avatar.png","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],[1,"w-full","md:w-30rem","mb-5"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["for","firstname"],["pInputText","","id","firstname","name","nombre","type","text","autocomplete","given-name",3,"ngModel","ngModelChange"],["for","cedula"],["pInputText","","id","cedula","name","cedula","type","text","autocomplete","off",3,"ngModel","ngModelChange"],["for","address"],["pInputText","","id","address","name","direccion","autocomplete","street-address",3,"ngModel","ngModelChange"],["for","telefono"],["pInputText","","id","telefono","name","telefono","type","text","autocomplete","tel",3,"ngModel","ngModelChange"],[1,"field","col-12"],["for","email"],["pInputText","","id","email","name","email","type","email","autocomplete","email",3,"ngModel","ngModelChange"],["for","password"],["id","password","inputStyleClass","w-full p-3 md:w-30rem","autocomplete","new-password",3,"ngModel","toggleMask","ngModelChange"],[1,"p-buttonset","w-full","p-3","text-xl"],["pButton","","pRipple","","label","Registrarse","icon","pi pi-check",3,"click"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",3,"click"],["key","tst"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"div",7),e._uU(8,"Crea tu cuenta"),e.qZA(),e.TgZ(9,"span",8),e._uU(10,"Completa el formulario para comenzar."),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"input",13),e.NdJ("ngModelChange",function(a){return r.nombre=a}),e.qZA()(),e.TgZ(17,"div",11)(18,"label",14),e._uU(19,"C\xe9dula"),e.qZA(),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(a){return r.cedula=a}),e.qZA()(),e.TgZ(21,"div",11)(22,"label",16),e._uU(23,"Direcci\xf3n"),e.qZA(),e.TgZ(24,"input",17),e.NdJ("ngModelChange",function(a){return r.direccion=a}),e.qZA()(),e.TgZ(25,"div",11)(26,"label",18),e._uU(27,"Tel\xe9fono"),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(a){return r.telefono=a}),e.qZA()(),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"Correo electr\xf3nico"),e.qZA(),e.TgZ(32,"input",22),e.NdJ("ngModelChange",function(a){return r.email=a}),e.qZA()(),e.TgZ(33,"div",20)(34,"label",23),e._uU(35,"Contrase\xf1a"),e.qZA(),e.TgZ(36,"p-password",24),e.NdJ("ngModelChange",function(a){return r.password=a}),e.qZA()(),e.TgZ(37,"div",20)(38,"span",25)(39,"button",26),e.NdJ("click",function(){return r.registrarse()}),e.qZA(),e.TgZ(40,"button",27),e.NdJ("click",function(){return r.regresar()}),e.qZA()()()()(),e._UZ(41,"p-toast",28),e.qZA()()()()),2&i&&(e.xp6(2),e.MGl("src","assets/layout/images/","light"===r.layoutService.config().colorScheme?"logo-dark":"logo-white",".svg",e.LSH),e.xp6(14),e.Q6J("ngModel",r.nombre),e.xp6(4),e.Q6J("ngModel",r.cedula),e.xp6(4),e.Q6J("ngModel",r.direccion),e.xp6(4),e.Q6J("ngModel",r.telefono),e.xp6(4),e.Q6J("ngModel",r.email),e.xp6(4),e.Q6J("ngModel",r.password)("toggleMask",!0))},dependencies:[d.Hq,s.o,c.Fj,c.JJ,c.On,m.ro,v.FN],styles:["[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]})}return n})(),T=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#r=this.\u0275inj=e.cJS({imports:[f.Bz.forChild([{path:"",component:y}]),f.Bz]})}return n})();var E=t(9663);let b=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#r=this.\u0275inj=e.cJS({imports:[p.ez,T,d.hJ,h.nD,s.j,c.u5,m.gz,E.zz,s.j,v.EV]})}return n})()},218:(M,g,t)=>{t.d(g,{E:()=>m,P:()=>c});var p=t(6814),d=t(9467),h=t(2076);let c=(()=>{class s{host;constructor(l){this.host=l}autofocus;focused=!1;ngAfterContentChecked(){if(!this.focused&&this.autofocus){const l=h.p.getFocusableElements(this.host.nativeElement);0===l.length&&this.host.nativeElement.focus(),l.length>0&&l[0].focus(),this.focused=!0}}static \u0275fac=function(e){return new(e||s)(d.Y36(d.SBq))};static \u0275dir=d.lG2({type:s,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}})}return s})(),m=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=d.oAB({type:s});static \u0275inj=d.cJS({imports:[p.ez]})}return s})()}}]);